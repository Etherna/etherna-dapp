/*
 *  Copyright 2021-present Etherna Sagl
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

.popup {
  @apply block;
}

.popupToggle {
  @apply appearance-none;
  @apply bg-transparent;
}

.popupPanel {
  @apply absolute;
  @apply opacity-0 pointer-events-none;
  @apply transition-opacity duration-75;
  @apply z-20;

  &[data-popper-placement^="top"] {
    @apply mb-4;

    .popupContent {
      @apply mb-2.5;
    }
    .popupArrow {
      @apply bottom-0;
      @apply mb-0.5;
    }
  }
  &[data-popper-placement^="bottom"] {
    @apply mt-4;

    .popupContent {
      @apply mt-2.5;
    }
    .popupArrow {
      @apply top-0;
      @apply mt-0.5;

      &::after {
        @apply transform rotate-45 scale-150 translate-y-[7px] translate-x-1/2 origin-top;
        margin-top: -0.5px;
      }
    }
  }
  &[data-popper-placement^="left"] {
    @apply mr-4;

    .popupContent {
      @apply mr-2.5;
    }
    .popupArrow {
      @apply right-0;
      @apply mr-0.5;
    }
  }
  &[data-popper-placement^="right"] {
    @apply ml-4;

    .popupContent {
      @apply ml-2.5;
    }
    .popupArrow {
      @apply top-0;
      @apply ml-0.5;

      &::after {
        @apply transform rotate-45 scale-150 translate-x-[7px] -translate-y-1/2 origin-left;
        margin-top: -0.5px;
      }
    }
  }

  &.open {
    @apply visible pointer-events-auto;
    @apply opacity-100;
  }
}

.popupContent {
  @apply p-4;
  @apply rounded-md;
  @apply min-w-[240px] max-w-sm;
  @apply shadow-xl;
}

.popupArrow {
  @apply absolute;

  &::before {
    content: "";
    @apply absolute;
    @apply visible;
    @apply transform rotate-45;
    @apply w-4 h-4;
  }

  &::after {
    content: "";
    @apply absolute;
    @apply visible;
    @apply w-4 h-4;
  }
}

.popupArrow::before,
.popupArrow::after,
.popupContent {
  @apply bg-white;
  @apply dark:bg-gray-800;
}

.popupArrow::before,
.popupContent {
  @apply border;
  @apply border-gray-200;
  @apply dark:border-gray-700;
}

.popupBackdrop {
  @apply fixed inset-0;
  @apply bg-transparent -z-1;
}
