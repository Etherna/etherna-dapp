/* 
 *  Copyright 2021-present Etherna Sagl
 *  
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *  
 *      http://www.apache.org/licenses/LICENSE-2.0
 *  
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

@use "sass:math";

$tick-width: 8%;
$ticks-count: 12;

.spinner {
  @apply w-[1em] h-[1em] relative;
}

.spinnerTick {
  --tw-translate-x: #{math.div($tick-width, 2)};
  width: $tick-width;
  right: 50%;
  animation: tickFade #{$ticks-count * 0.1}s infinite;
  @apply absolute h-[0.5em] transform origin-bottom scale-95;

  &::after {
    content: "";
    height: 50%;
    @apply absolute inset-x-0 top-0;
    @apply bg-current;
    @apply rounded-full;
  }

  @for $i from 0 through ($ticks-count - 1) {
    &:nth-child(#{$i + 1}) {
      transform: rotate(#{$i * 30}deg);
      animation-delay: -#{($ticks-count - $i) * 0.1}s;
      opacity: #{0.1 + (math.div(0.9, $ticks-count - 1) * $i)};
    }
  }

  @keyframes tickFade {
    0% {
      opacity: 1;
    }
    100% {
      opacity: 0.1;
    }
  }
}

.spinnerLine {
  @apply relative rounded-sm overflow-hidden;
  @apply flex;
  @apply bg-gray-500/20;
  @apply h-1;
}

.spinnerLineTick {
  @apply mx-auto w-1/2 rounded-sm;
  @apply bg-primary-500;
  animation: bounce 1.25s infinite alternate linear;

  @keyframes bounce {
    0% {
      transform: translateX(-180%);
    }
    100% {
      transform: translateX(180%);
    }
  }
}
