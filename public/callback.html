<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <div id="error" style="display: none;">
        <h2>Error</h2>
        <p id="error-message"></p>
    </div>

    <script src="oidc-client.js"></script>
    <script>
        new Oidc.UserManager({
            response_mode:"query",
            max_age: 60 * 60 * 24 * 365,
            automaticSilentRenew: true,
            userStore: new Oidc.WebStorageStateStore({ store: window.localStorage }),
            stateStore: new Oidc.WebStorageStateStore({ store: window.localStorage }),
        }).signinRedirectCallback().then(function() {
            window.location = window.location.href.replace(/\/callback\.html.*/, '');
        }).catch(function(e) {
            document.getElementById('error-message').innerText = e.message;
            document.getElementById('error').style.display = 'block';
            console.error(e);
        });
    </script>
</body>
</html>